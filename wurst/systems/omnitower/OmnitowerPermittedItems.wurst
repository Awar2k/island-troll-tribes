package OmnitowerPermittedItems
import ItemExtensions

init
    CreateTrigger()
    ..registerAnyUnitEvent(EVENT_PLAYER_UNIT_PICKUP_ITEM)
    ..addCondition(Condition(() -> begin
        let theItem = GetManipulatedItem()
        let theUnit = GetManipulatingUnit()
        if  theUnit.getTypeId() == UNIT_OMNITOWER and theItem.getType() != ITEM_TYPE_CHARGED
            theUnit.removeItem(theItem)
        return false
    end))
